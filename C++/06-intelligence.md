---
layout: post
category: hunting_job
title: 智力&场景题
tagline: by 阿秀
tags:
  - 原创
  - 智力题
  - 场景题
  - 八股文
  - 社招
  - 校招
  - 阿秀
excerpt: 智力&场景题
comment: false
---

<h1 align="center">智力&场景题</h1>

其实互联网招聘中，有一类型考察是考察你的临场反应速度，比如脑筋急转弯这种智力题或者情景题，阿秀这里也为大家总结了一些常见的智力题和情景题！

比如很知名的**腾讯赛马问题**，我自己以前秋招找工作的时候，在面试字节跳动的时候就被考察过。

## 1、三人三鬼过桥

有三个人跟三个鬼要过河,河上没桥只有条小船,然后船一次只能渡一个人和一个鬼,或者两个鬼或者两个人,无论在哪边岸上,只有是人比鬼少的情况下(如两鬼一人,三鬼两人,三鬼一人)人会被鬼吃,然而船又一定需要人或鬼操作才能航行(要有人或鬼划船),问,如何安全的把三人三鬼渡过河对岸?

参考回答

- 先两鬼过去。在一鬼回来。对面有一鬼。这边有三人两鬼。
- 再两鬼过去。在一鬼回来。对面有两鬼。这边有三人一鬼。
- 再两人过去。一人一鬼回来。对面一人一鬼。这边两人两鬼。
- 最后两人过去。一鬼回来。对面三人。这边三鬼。
- 剩下的就三个鬼二个过去一个回来在接另外个就 OK 了。

## 2、赛马找最快的马匹（腾讯高频题）

一般有这么几种问法：

25 匹马 5 条跑道找最快的 3 匹马，需要跑几次？参考回答：7

64 匹马 8 条跑道找最快的 4 匹马，需要跑几次？参考回答：11

25 匹马 5 条跑道找最快的 5 匹马，需要跑几次？参考回答：最少 8 次最多 9 次

建议画图表来看，将问题简单化一点，将大问题化成小问题即可，同时 B 站有个讲解视频还不错：https://www.bilibili.com/video/BV1KJ411g78y

详细解法：

**1、25 匹马 5 条跑道找最快的 3 匹马，需要跑几次？**

![](http://oss.interviewguide.cn/img/202205220037552.png)

将 25 匹马分成 ABCDE5 组，假设每组的排名就是 A1>A2>A3>A4>A5,用边相连，这里比赛 5 次

第 6 次，每组的第一名进行比赛，可以找出最快的马，这里假设 A1>B1>C1>D1>E1

D1，E1 肯定进不了前 3，直接排除掉

第 7 次，B1 C1 A2 B2 A3 比赛，可以找出第二，第三名

所以最少比赛需要 7 次

**2、64 匹马 8 条跑道找最快的 4 匹马，需要跑几次？**

第一步
全部马分为 8 组，每组 8 匹，每组各跑一次，然后淘汰掉每组的后四名，如下图（需要比赛 8 场）

![](http://oss.interviewguide.cn/img/202205220037654.png)

第二步
取每组第一名进行一次比赛，然后淘汰最后四名所在组的所有马，如下图（需要比赛 1 场）

![](http://oss.interviewguide.cn/img/202205220037469.png)

这个时候总冠军已经诞生，它就是 A1，蓝域（它不需要比赛了）。

而其他可能跑得最快的三匹马只可能是下图中的黄域了（A2,A3,A4,B1,B2,B3,C1,C2,D1，共 9 匹马）

![](http://oss.interviewguide.cn/img/202205220037703.png)

第三步
只要从上面的 9 匹马中找出跑得最快的三匹马就可以了，但是现在只要 8 个跑道，怎么办？

那就随机选出 8 匹马进行一次比赛吧（需要比赛一场）

第四步
上面比赛完，选出了前三名，但是 9 匹马中还有一匹马没跑呢，它可能是一个潜力股啊，那就和前三名比一比吧，这四匹马比一场，选出前三名。最后加上总冠军，跑得最快的四匹马诞生了！！！（需要一场比赛）

最后，一共需要比赛的场次：8 + 1 + 1 + 1 = 11 场

**3、25 匹马 5 条跑道找最快的 5 匹马，需要跑几次？**

(1) 首先将 25 匹马分成 5 组，并分别进行 5 场比赛之后得到的名次排列如下：

A 组： [A1 A2 A3 A4 A5]

B 组： [B1 B2 B3 B4 B5]

C 组： [C1 C2 C3 C4 C5]

D 组： [D1 D2 D3 D4 D5]

E 组： [E1 E2 E3 E4 E5]

其中，每个小组最快的马为[A1、B1、C1、D1、E1]。

(2) 将[A1、B1、C1、D1、E1]进行第 6 场，选出第 1 名的马，不妨设 A1>B1>C1>D1>E1. 此时第 1 名的马为 A1。

(3) 将[A2、B1、C1、D1、E1]进行第 7 场，此时选择出来的必定是第 2 名的马，不妨假设为 B1。因为这 5 匹马是除去 A1 之外每个小组当前最快的马。

(3) 进行第 8 场，选择[A2、B2、C1、D1、E1]角逐出第 3 名的马。

(4) 依次类推，第 9，10 场可以分别决出第 4，5 名的吗。

因此，依照这种竞标赛排序思想，需要 10 场比赛是一定可以取出前 5 名的。

**仔细想一下，如果需要减少比赛场次，就一定需要在某一次比赛中同时决出 2 个名次，而且每一场比赛之后，有一些不可能进入前 5 名的马可以提前出局。**

当然要做到这一点，就必须小心选择每一场比赛的马匹。我们在上面的方法基础上进一步思考这个问题，希望能够得到解决。

(1) 首先利用 5 场比赛角逐出每个小组的排名次序是绝对必要的。

(2) 第 6 场比赛选出第 1 名的马也是必不可少的。假如仍然是 A1 马(A1>B1>C1>D1>E1)。那么此时我们可以得到一个重要的结论：有一些马在前 6 场比赛之后就决定出局的命运了(下面粉色字体标志出局)。

A 组： [A1 A2 A3 A4 A5]

B 组： [B1 B2 B3 B4 B5 ]

C 组： [C1 C2 C3 C4 C5 ]

D 组： [D1 D2 D3 D4 D5 ]

E 组： [E1 E2 E3 E4 E5 ]

(3) 第 7 场比赛是关键，能否同时决出第 2，3 名的马呢？我们首先做下分析：

在上面的方法中，第 7 场比赛[A2、B1、C1、D1、E1]是为了决定第 2 名的马。但是在第 6 场比赛中我们已经得到(B1>C1>D1>E1)，试问？有 B1 在的比赛，C1、D1、E1 还有可能争夺第 2 名吗？ 当然不可能，也就是说第 2 名只能在 A2、B1 中出现。实际上只需要 2 条跑道就可以决出第 2 名，剩下 C1、D1、E1 的 3 条跑道都只能用来凑热闹的吗？

能够优化的关键出来了，我们是否能够通过剩下的 3 个跑道来决出第 3 名呢？当然可以，我们来进一步分析第 3 名的情况？

● 如果 A2>B1(即第 2 名为 A2)，那么根据第 6 场比赛中的(B1>C1>D1>E1)。 可以断定第 3 名只能在 A3 和 B1 中产生。

● 如果 B1>A2(即第 2 名为 B1)，那么可以断定的第 3 名只能在 A2, B2,C1 中产生。

好了，结论也出来了，只要我们把[A2、B1、A3、B2、C1]作为第 7 场比赛的马，那么这场比赛的第 2，3 名一定是整个 25 匹马中的第 2，3 名。

我们在这里列举出第 7 场的 2，3 名次的所有可能情况：

① 第 2 名=A2，第 3 名=A3

② 第 2 名=A2，第 3 名=B1

③ 第 2 名=B1，第 3 名=A2

④ 第 2 名=B1，第 3 名=B2

⑤ 第 2 名=B1，第 3 名=C1

(4) 第 8 场比赛很复杂，我们要根据第 7 场的所有可能的比赛情况进行分析。

① 第 2 名=A2，第 3 名=A3。那么此种情况下第 4 名只能在 A4 和 B1 中产生。

● 如果第 4 名=A4，那么第 5 名只能在 A5、B1 中产生。

● 如果第 4 名=B1，那么第 5 名只能在 A4、B2、C1 中产生。

不管结果如何，此种情况下，第 4、5 名都可以在第 8 场比赛中决出。其中比赛马匹为[A4、A5、B1、B2、C1]

② 第 2 名=A2，第 3 名=B1。那么此种情况下第 4 名只能在 A3、B2、C1 中产生。

● 如果第 4 名=A3，那么第 5 名只能在 A4、B2、C1 中产生。

● 如果第 4 名=B2，那么第 5 名只能在 A3、B3、C1 中产生。

● 如果第 4 名=C1，那么第 5 名只能在 A3、B2、C2、D1 中产生。

那么，第 4、5 名需要在马匹[A3、B2、B3、C1、A4、C2、D1]七匹马中产生，则必须比赛两场才行，也就是到第 9 场角逐出全部的前 5 名。

③ 第 2 名=B1，第 3 名=A2。那么此种情况下第 4 名只能在 A3、B2、C1 中产生。

情况和 ② 一样，必须角逐第 9 场

④ 第 2 名=B1，第 3 名=B2。 那么此种情况下第 4 名只能在 A2、B3、C1 中产生。

● 如果第 4 名=A2，那么第 5 名只能在 A3、B3、C1 中产生。

● 如果第 4 名=B3，那么第 5 名只能在 A2、B4、C1 中产生。

● 如果第 4 名=C1，那么第 5 名只能在 A2、B3、C2、D1 中产生。

那么，第 4、5 名需要在马匹[A2、B3、B4、C1、A3、C2、D1]七匹马中产 生，则必须比赛两场才行，也就是到第 9 场角逐出全部的前 5 名。

⑤ 第 2 名=B1，第 3 名=C1。那么此种情况下第 4 名只能在 A2、B2、C2、D1 中产生。

● 如果第 4 名=A2，那么第 5 名只能在 A3、B2、C2、D1 中产生。

● 如果第 4 名=B2，那么第 5 名只能在 A2、B3、C2、D1 中产生。

● 如果第 4 名=C2，那么第 5 名只能在 A2、B2、C3、D1 中产生。

● 如果第 4 名=D1，那么第 5 名只能在 A2、B2、C2、D2、E2 中产生。

那么，第 4、5 名需要在马匹[A2、B2、C2、D1、A3、B3、C3、D2、E1]九匹马中 产 生，因此也必须比赛两场，也就是到第 9 长决出胜负。

总结：最好情况可以在第 8 场角逐出前 5 名，最差也可以在第 9 场搞定。

<p  id="给定随机函数生成别的随机数"></p>

## 3、给定随机函数，生成别的随机数

给定生成 1 到 5 的随机数 Rand5()，如何得到生成 1 到 7 的随机数函数 Rand7()？

思路

由大的生成小的容易，比如由 Rand7()生成 Rand5()，所以我们先构造一个大于 7 的随机数生成函数。
记住下面这个式子：

```
RandNN= N( RandN()-1 ) + RandN() ;// 生成1到N^2之间的随机数
可以看作是在数轴上撒豆子。N是跨度/步长，是RandN()生成的数的范围长度，
RandN()-1的目的是生成0到N-1的数，是跳数。后面+RandN()的目的是填满中间的空隙
```

比如` Rand25= 5( Rand5()-1 ) + Rand5()`可以生成 1 到 25 之间的随机数。我们可以只要 1 到 21（3\*7）之间的数字，所以可以这么写

```
int rand7(){
  int x=INT_MAX;
  while(x>21){
    x=5*(rand5()-1)+rand5();
  }
  return x%7+1;
}
```

<p  id="砝码称轻重找出最轻的"></p>

## 4、砝码称轻重，找出最轻的

其实这都是一类题，这里列举几个经典的：

1、有一个天平，九个砝码，其中一个砝码比另八个要轻一些，问至少要用天平称几次才能将轻的那个找出来？

参考回答：至少 2 次。第一次，一边 3 个，哪边轻就在哪边，一样重就是剩余的 3 个；
第二次，一边 1 个，哪边轻就是哪个，一样重就是剩余的那个；至少称 2 次．

2、十组砝码每组十个，每个砝码都是 10g 重，但是现在其中有一组砝码每个都只有 9g 重，现有一个能显示克数的秤，最少称几次能找到轻的那组？ 参考回答：1 次

参考回答：至少 1 次。

将砝码分组 1~10，第一组拿一个，第二组拿两个以此类推。。第十组拿十个放到秤上称出克数 x，则 y = 550 - x，第 y 组就是轻的那组。

<p  id="利用空瓶换饮料最多喝几瓶"></p>

## 5、利用空瓶换饮料，最多喝几瓶

1000 瓶饮料，3 个空瓶子能够换 1 瓶饮料，问最多能喝几瓶？

### **第一种思路**

拿走 3 瓶，换回 1 瓶，相当于减少 2 瓶。但是最后剩下 4 瓶的时候例外，这时只能换 1 瓶。所以我们计算 1000 减 2 能减多少次，直到剩下 4.（1000-4=996，996/2=498）所以 1000 减 2 能减 498 次直到剩下 4 瓶，最后剩下的 4 瓶还可以换一瓶，所以总共是 1000+498+1=1499 瓶。

### **第二种思路**

- 1000 瓶饮料，3 个空瓶子能换 1 瓶饮料，最多可以喝几瓶？

- 第一种思维：可以考虑成 dp 思路

- - 初始情况，3 个瓶子时将发生一次交换，因此视为特殊情况

  - 之后每增加两个瓶子又可以再换一瓶

  - 即 dp[i] = dp[i - 2] + (i - (i - 2)) + 1

  - - 由 dp[i - 2]可求得 dp[i]
    - (i - (i - 2))，即为当前增加的 2 瓶饮料（写成这样便于理解）
    - 1 即为增加了 2 个空瓶，之后又可以换一瓶饮料

  - 简化为 dp[i] = dp[i - 2] + 2 + 1

```java
  public int method(int n) {
      // n为0/1/2的特殊情况省略了
      // 定义dp数组
      int[] dp = new int[n + 1];
      // 初始状态
      dp[0] = 0;
      dp[1] = 1;
      dp[2] = 2;
      for (int i = 3; i <= n; i++) {
        dp[i] = dp[i - 2] + 2 + 1;
     }
      return dp[n];
   }
```

- 回归正题

- - 特殊情况：从上面的分析中，留下 2 个瓶子
  - 剩下 998 个瓶子相当于每消耗 2 个瓶子即可获得一瓶，即为 499 瓶
  - 最后剩下的 2 个瓶子无法再进行兑换，因此总共为 1000 + 499 = 1499

- 第二种思维：利用借瓶子的思想

- - 因为兑换一瓶饮料需要三个空瓶，这瓶饮料如果是找老板借来的，那么喝完后这个空瓶将会还给他，同时需要附赠给他另外两个空瓶，即每消耗手里两个空瓶就获得一瓶饮料
  - 但是值得注意的是，上面只是一种假设，实际情况老板是不会借给你的，因此我们至少需要保留 2 个空瓶，这样可以在 998 个瓶子剩下一个瓶子时，对其进行补足为 3 个空瓶，从而兑换一瓶新饮料
  - 此时使用 998 个瓶子进行上述的兑换，将获得 499 瓶饮料
  - 之前留下的两个瓶子正好无法兑换，最终获得饮料为 1000 + 499 = 1499 瓶

> 感谢微信好友”gezq0714“指出第二种思路，现已采纳！感谢！- 2021.08.13

<p  id="毒药毒白鼠找出哪个瓶子中是毒药"></p>

## 6、毒药毒白鼠，找出哪个瓶子中是毒药

有 1000 个一模一样的瓶子，其中有 999 瓶是普通的水，有 1 瓶是毒药。任何喝下毒药的生命都会在一星期之后死亡。现在你只有 10 只小白鼠和 1 个星期的时间，如何检验出哪个瓶子有毒药？

### 参考回答

1、将 10 只老鼠剁成馅儿，分到 1000 个瓶盖中，每个瓶盖倒入适量相应瓶子的液体，置于户外，并每天补充适量相应的液体，观察一周，看哪个瓶盖中的肉馅没有腐烂或生蛆。（你要是胆子够大就可以这么回答，是个狼人）

2、首先一共有 1000 瓶，2 的 10 次方是 1024，刚好大于 1000，也就是说，1000 瓶药品可以使用 10 位二进制数就可以表示。从第一个开始：

第一瓶 ： 00 0000 0001

第二瓶： 00 0000 0010

第三瓶： 00 0000 0011

……

第 999 瓶： 11 1111 0010

第 1000 瓶： 11 1111 0011

需要十只老鼠，如果按顺序编号，ABCDEFGHIJ 分别代表从低位到高位每一个位。 每只老鼠对应一个二进制位，如果该位上的数字为 1，则给老鼠喝瓶里的药。

观察，若死亡的老鼠编号为：ACFGJ，一共死去五只老鼠，则对应的编号为 10 0110 0101，则有毒的药品为该编号的药品，转为十进制数为：613 号。（这才是正解，当然前提是老鼠还没被撑死）

类似的问题

8 瓶酒一瓶有毒，用小老鼠测试。每次测试结果 8 小时后才会得出，而你只有 8 个小时的时间。最少需要（ ）老鼠测试？
A、2 B、3 C、4 D、6

解析：用 3 位 2 进制代表 8 瓶酒，如下表所示

瓶序号 二进制 中毒情况

第一瓶 000 全没中毒

第二瓶 001 只有第一个老鼠中毒

第三瓶 010 只有第二个老鼠中毒

第四瓶 011 第一个老鼠、第三个老鼠同时中毒

第五瓶 100 只有第三个老鼠中毒

第六瓶 101 第一个老鼠、第三个老鼠同时中毒

第七瓶 110 第二个老鼠、第三个老鼠同时中毒

第八瓶 111 三个老鼠同时中毒

其中，第一个老鼠喝下最低位为 1 对应的酒，第二个老鼠喝下中间位为 1 对应的酒，第三个老鼠喝下最高位为 1 对应的酒

最后将所有中毒的老鼠，对应的位次进行与操作即可以知道那瓶毒药有毒了

<p  id="利用烧绳子计算时间"></p>

## 7、利用烧绳子计算时间

现有若干不均匀的绳子，烧完这根绳子需要一个小时，问如何准确计时 15 分钟，30 分钟，45 分钟，75 分钟。。。

计算 15 分钟：对折之后两头烧(要求对折之后绑的够紧，否则看 45 分钟解法)

计算 30 分钟：两头烧

计算 45 分钟：两根，一根两头烧一根一头烧，两头烧完过了 30 分钟，立即将第二根另一头点燃，到烧完又过 15 分钟，加起来 45 分钟

计算 75 分钟：将 30 和 45 分钟的方式加起来就可以了

其余类似

<p  id="在小时里面时针分针秒针可以重合几次"></p>

## 8、在 24 小时里面时针分针秒针可以重合几次

24 小时中时针走 2 圈，而分针走 24 圈，时针和分针重合 24-2=22 次，而只要时针和分针重合，秒针一定有机会重合，所以总共重合 22 次

**勘误**：

时针和分针重合的时候，秒针根本就不在重合的地方，而是在其他地方，以下是数学推导：![](http://oss.interviewguide.cn/img/202305051050008.png)

因此看来就是只有 1 次重合，因为在 12 小时内不包含 12 点这个时间，所以在 24 小时内，也就只有**两次重合**，分别为 0 点和 12 点。

> [github issue 勘误链接](https://github.com/forthespada/InterviewGuide/issues/108)

<p  id="个奴隶猜帽子颜色"></p>

## 9、100 个奴隶猜帽子颜色

一百个奴隶站成一纵列，每人头上随机带上黑色或白色的帽子，各人不知道自己帽子的颜色，但是能看见自己前面所有人帽子的颜色．
然后从最后一个奴隶开始，每人只能用同一种声调和音量说一个字：”黑”或”白”，
如果说中了自己帽子的颜色，就存活，说错了就拉出去斩了，说的参考回答所有奴隶都能听见。 是否说对，其他奴隶不知道。
在这之前，所有奴隶可以聚在一起商量策略，问如果奴隶都足够聪明而且反应足够快，100 个人最大存活率是多少？

参考回答：这是一道经典推理题

1、最后一个人如果看到奇数顶黑帽子报“黑”否则报“白”，他可能死

2、其他人记住这个值（实际是黑帽奇偶数），在此之后当再听到黑时，黑帽数量减一

3、从倒数第二人开始，就有两个信息：记住的值与看到的值，相同报“白”，不同报“黑”

99 人能 100%存活，1 人 50%能活

另外，此题还有变种：每个奴隶只能看见前面一个人帽子颜色又能最多存活多少人？

参考回答：增加限制条件后，上面的方法就失效了，此时只能约定偶数位奴隶说他前一个人的帽子颜色，奇数奴隶获取信息 100%存活，偶数奴隶 50 几率存活。

<p  id="小猴子搬香蕉"></p>

## 10、 小猴子搬香蕉

一个小猴子边上有 100 根香蕉，它要走过 50 米才能到家，每次它最多搬 50 根香蕉，（多了就被压死了），它每走 1 米就要吃掉一根，请问它最多能把多少根香蕉搬到家里？

（提示：他可以把香蕉放下往返的走，但是必须保证它每走一米都能有香蕉吃。也可以走到 n 米时，放下一些香蕉，拿着 n 根香蕉走回去重新搬 50 根。）

参考回答：这种试题通常有一个迷惑点，让人看不懂题目的意图。此题迷惑点在于：走一米吃一根香蕉，一共走 50 米，那不是把 50 根香蕉吃完了吗？如果要回去搬另外 50 根香蕉，则往回走的时候也要吃香蕉，这样每走一米需要吃掉三根香蕉，走 50 米岂不是需要 150 根香蕉？

其实不然，本题关键点在于：猴子搬箱子的过程其实分为两个阶段，第一阶段：来回搬，当香蕉数目大于 50 根时，猴子每搬一米需要吃掉三根香蕉。第二阶段：香蕉数《=50，直接搬回去。每走一米吃掉 1 根。

我们分析第一阶段：假如把 100 根香蕉分为两箱。一箱 50 根。

第一步，把 A 箱搬一米，吃一根。

第二步，往回走一米，吃一根。

第三步，把 B 箱搬一米，吃一根。

这样，把所有香蕉搬走一米需要吃掉三根香蕉。

这样走到第几米的时候，香蕉数刚好小于 50 呢？

100-(n\*3)<50 && 100-(n-1\*3)>50

走到 16 米的时候，吃掉 48 根香蕉，剩 52 根香蕉。这步很有意思，它可以直接搬 50 往前走，也可以再来回搬一次，但结果都是一样的。

到 17 米的时候，猴子还有 49 根香蕉。这时猴子就轻松啦，直接背着走就行。

第二阶段：

走一米吃一根。

把剩下的 50-17=33 米走完。还剩 49-33=16 根香蕉。

<p  id="高楼扔鸡蛋经典问题"></p>

## 11、高楼扔鸡蛋（经典问题）

有 2 个鸡蛋，从 100 层楼上往下扔，以此来测试鸡蛋的硬度。比如鸡蛋在第 9 层没有摔碎，在第 10 层摔碎了，那么鸡蛋不会摔碎的临界点就是 9 层。

问：如何用最少的尝试次数，测试出鸡蛋不会摔碎的临界点？

首先要说明的是这道题你要是一上来就说出正确参考回答，那说明你的智商不是超过 160 就是你做过这题。

所以建议你循序渐进的回答，一上来就说最优解可能结果不会让你和面试官满意。

参考回答

### 1、暴力法

举个例子，最笨的测试方法，是什么样的呢？把其中一个鸡蛋，从第 1 层开始往下扔。如果在第 1 层没碎，换到第 2 层扔；如果在第 2 层没碎，换到第 3 层扔.......如果第 59 层没碎，换到第 60 层扔；如果第 60 层碎了，说明不会摔碎的临界点是第 59 层。

在最坏情况下，这个方法需要扔 100 次。

### 2、二分法

采用类似于二分查找的方法，把鸡蛋从一半楼层（50 层）往下扔。

如果第一枚鸡蛋，在 50 层碎了，第二枚鸡蛋，就从第 1 层开始扔，一层一层增长，一直扔到第 49 层。

如果第一枚鸡蛋在 50 层没碎了，则继续使用二分法，在剩余楼层的一半（75 层）往下扔......

这个方法在最坏情况下，需要尝试 50 次。

### 3、均匀法

如何让第一枚鸡蛋和第二枚鸡蛋的尝试次数，尽可能均衡呢？

很简单，做一个平方根运算，100 的平方根是 10。

因此，我们尝试每 10 层扔一次，第一次从 10 层扔，第二次从 20 层扔，第三次从 30 层......一直扔到 100 层。

这样的最好情况是在第 10 层碎掉，尝试次数为 1 + 9 = 10 次。

最坏的情况是在第 100 层碎掉，尝试次数为 10 + 9 = 19 次。

不过，这里有一个小小的优化点，我们可以从 15 层开始扔，接下来从 25 层、35 层扔......一直到 95 层。

这样最坏情况是在第 95 层碎掉，尝试次数为 9 + 9 = 18 次。

### 4、最优解法

最优解法是反向思考的经典：如果最优解法在最坏情况下需要扔 X 次，那第一次在第几层扔最好呢？

参考回答是：从 X 层扔

假设最优的尝试次数的 x 次，为什么第一次扔就要选择第 x 层呢？

这里的解释会有些烧脑，请小伙伴们坐稳扶好：

**假设第一次扔在第 x+1 层：**

如果第一个鸡蛋碎了，那么第二个鸡蛋只能从第 1 层开始一层一层扔，一直扔到第 x 层。

这样一来，我们总共尝试了 x+1 次，和假设尝试 x 次相悖。由此可见，第一次扔的楼层必须小于 x+1 层。

**假设第一次扔在第 x-1 层：**

如果第一个鸡蛋碎了，那么第二个鸡蛋只能从第 1 层开始一层一层扔，一直扔到第 x-2 层。

这样一来，我们总共尝试了 x-2+1 = x-1 次，虽然没有超出假设次数，但似乎有些过于保守。

**假设第一次扔在第 x 层：**

如果第一个鸡蛋碎了，那么第二个鸡蛋只能从第 1 层开始一层一层扔，一直扔到第 x-1 层。

这样一来，我们总共尝试了 x-1+1 = x 次，刚刚好没有超出假设次数。

因此，要想尽量楼层跨度大一些，又要保证不超过假设的尝试次数 x，那么第一次扔鸡蛋的最优选择就是第 x 层。

那么算最坏情况，第二次你只剩下 x-1 次机会，按照上面的说法，你第二次尝试的位置必然是 X+（X-1）；

以此类推我们可得：

x + (x-1) + (x-2) + ... + 1 = 100

这个方程式不难理解：

左边的多项式是各次扔鸡蛋的楼层跨度之和。由于假设尝试 x 次，所以这个多项式共有 x 项。

右边是总的楼层数 100。

下面我们来解这个方程：

x + (x-1) + (x-2) + ... + 1 = 100 转化为

(x+1)\*x/2 = 100

最终 x 向上取整，得到 x = 14

因此，最优解在最坏情况的尝试次数是 14 次，第一次扔鸡蛋的楼层也是 14 层。

最后，让我们把第一个鸡蛋没碎的情况下，所尝试的楼层数完整列举出来：

14，27， 39， 50， 60， 69， 77， 84， 90， 95， 99， 100

举个例子验证下：

假如鸡蛋不会碎的临界点是 65 层，那么第一个鸡蛋扔出的楼层是 14，27，50，60，69。这时候啪的一声碎了。

第二个鸡蛋继续，从 61 层开始，61，62，63，64，65，66，啪的一声碎了。

因此得到不会碎的临界点 65 层，总尝试次数是 6 + 6 = 12 < 14 。

  <p  id="N只蚂蚁走树枝，问总距离或者总时间"></p>

## 12、N 只蚂蚁走树枝，问总距离或者总时间

问题：放 N 只蚂蚁在一条长度为 M 树枝上，蚂蚁与蚂蚁之间碰到就各自往反方向走，问总距离或者时间为多少？

参考回答：这个其实就一个诀窍：蚂蚁相碰就往反方向走，可以直接看做没有发生任何事：大家都相当于独立的

A 蚂蚁与 B 蚂蚁相碰后你可以看做没有发生这次碰撞，这样无论是求时间还是距离都很简单了。

<p  id="N个强盗分配M个金币求方案使得自己分配最多"></p>

## 13、N 个强盗分配 M 个金币，求方案使得自己分配最多

5 个海盗抢到了 100 枚金币，每一颗都一样的大小和价值。 他们决定这么分：

1. ​ 抽签决定自己的号码（1，2，3，4，5）
2. ​ 首先，由 1 号提出分配方案，然后大家 5 人进行表决，当 半数以上的人同意时（ 不包括半数，这是重点），按照他的提案进行分配，否则将被扔入大海喂鲨鱼。
3. ​ 如果 1 号死后，再由 2 号提出分配方案，然后大家 4 人进行表决，当且仅当半超过半数的人同意时，按照他的提案进行分配，否则将被扔入大海喂鲨鱼。
4. ​ 依次类推......

假设每一位海盗都足够聪明，并且利益至上，能多分一枚金币绝不少分，那么 1 号海盗该怎么分金币才能使自己分到最多的金币呢？

参考回答

从后向前推，如果 1 至 3 号强盗都喂了鲨鱼，只剩 4 号和 5 号的话，5 号一定投反对票让 4 号喂鲨鱼，以独吞全部金币。所以，4 号惟有支持 3 号才能保命。

3 号知道这一点，就会提出“100，0，0”的分配方案，对 4 号、5 号一毛不拔而将全部金币归为已有，因为他知道 4 号一无所获但还是会投赞成票，再加上自己一票，他的方案即可通过。

不过，2 号推知 3 号的方案，就会提出“98，0，1，1”的方案，即放弃 3 号，而给予 4 号和 5 号各一枚金币。由于该方案对于 4 号和 5 号来说比在 3 号分配时更为有利，他们将支持他而不希望他出局而由 3 号来分配。这样，2 号将拿走 98 枚金币。

同样，2 号的方案也会被 1 号所洞悉，1 号并将提出（97，0，1，2，0）或（97，0，1，0，2）的方案，即放弃 2 号，而给 3 号一枚金币，同时给 4 号（或 5 号）2 枚金币。由于 1 号的这一方案对于 3 号和 4 号（或 5 号）来说，相比 2 号分配时更优，他们将投 1 号的赞成票，再加上 1 号自己的票，1 号的方案可获通过，97 枚金币可轻松落入囊中。这无疑是 1 号能够获取最大收益的方案了！参考回答是：1 号强盗分给 3 号 1 枚金币，分给 4 号或 5 号强盗 2 枚，自己独得 97 枚。分配方案可写成（97，0，1，2，0）或（97，0，1，0，2）。

此题还有变种：就是只需要一半人同意即可，不需要一半人以上同意方案就可以通过，在其他条件不变的情况下，1 号该怎么分配才能获得最多的金币？

参考回答：类似的推理过程

4 号：4 号提出的方案的时候肯定是最终方案，因为不管 5 号同意不同意都能通过，所以 4 号 5 号不必担心自己被投入大海。那此时 5 号获得的金币为 0，4 号获得的金币为 100。

5 号：因为 4 号提方案的时候 ，自己获取的金币为 0 。所以只要 4 号之前的人分配给自己的金币大于 0 就同意该方案。

4 号：如果 3 号提的方案一定能获得通过（原因：3 号给 5 号的金币大于 0， 5 号就同意 因此就能通过），那自己获得的金币就为 0，所以只要 2 号让自己获得的金币大于 0 就会同意。

3 号：因为到了自己提方案的时候可以给 5 号一金币，自己的方案就能通过，但考虑到 2 号提方案的时候给 4 号一个金币，2 号的方案就会通过，那自己获得的金币就为 0。所以只要 1 号让自己获得的金币大于 0 就会同意。

2 号：因为到了自己提方案的时候只要给 4 号一金币，就能获得通过，根本就不用顾及 3 号 5 号同意不同意，所以不管 1 号怎么提都不会同意。

1 号：2 号肯定不会同意。但只要给 3 号一块金币，5 号一块金币（因为 5 号如果不同意，那么 4 号分配的时候，他什么都拿不到）就能获得通过。

所以参考回答是 98，0，1，0，1。

类似的问题也可用类似的推理即可。

<p  id="火枪手决斗谁活下来的概率大"></p>

## 14、火枪手决斗，谁活下来的概率大？

问题：彼此痛恨的甲、乙、丙三个枪手准备决斗。甲枪法最好，十发八中；乙枪法次之，十发六中；丙枪法最差，十发四中。如果三人同时开枪，并且每人每轮只发一枪；那么枪战后，谁活下来的机会大一些？

参考回答

一般人认为甲的枪法好，活下来的可能性大一些。但合乎推理的结论是，枪法最糟糕的丙活下来的几率最大。

那么我们先来分析一下各个枪手的策略。

如同田忌赛马一般，枪手甲一定要对枪手乙先。因为乙对甲的威胁要比丙对甲的威胁更大，甲应该首先干掉乙，这是甲的最佳策略。

同样的道理，枪手乙的最佳策略是第一枪瞄准甲。乙一旦将甲干掉，乙和丙进行对决，乙胜算的概率自然大很多。

枪手丙的最佳策略也是先对甲。乙的枪法毕竟比甲差一些，丙先把甲干掉再与乙进行对决，丙的存活概率还是要高一些。

我们根据分析来计算一下三个枪手在上述情况下的存活几率：
第一轮：甲射乙，乙射甲，丙射甲。
甲的活率为 24%（40% X 60%）

乙的活率为 20%(100% - 80%)

丙的活率为 100%（无人射丙）。

由于丙 100％存活率，因此根据上轮甲乙存活的情况来计算三人第二轮的存活几率：

情况 1：甲活乙死（24% X 80% = 19.2%）
甲射丙，丙射甲：甲的活率为 60%，丙的活率为 20%。
情况 2：乙活甲死（20% X 76% = 15.2%）
乙射丙，丙射乙：乙的活率为 60%，丙的活率为 40%。
情况 3：甲乙同活（24% X 20% = 4.8%）
重复第一轮。
情况 4：甲乙同死（76% X 80% = 60.8%）
枪战结束。

据此来计算三人活率：
甲的活率为(19.2% X 60%) + (4.8% X 24%) = 12.672%
乙的活率为(15.2% X 60%) + (4.8% X 20%) = 10.08%
丙的活率为(19.2% X 20%) + (15.2% X 40%) + (4.8% X 100%) + (60.8% X 100%) = 75.52%

通过对两轮枪战的详细概率计算，我们发现枪法最差的丙存活的几率最大，枪法较好的甲和乙的存活几率却远低于丙的存活几率。

<p  id="先手必胜的问题"></p>

## 15、先手必胜的问题

100 本书，每次能够拿 1-5 本，怎么拿能保证最后一次是你拿？

参考回答

寻找每个回合固定的拿取模式，最后一次是我拿，那么上个回合最少剩下 6 本。那么只要保持每个回合结束后都剩下 6 的倍数，并且在这个回合中我拿的和对方拿的加起来为 6（这样这个回合结束后剩下的还是 6 的倍数），就必胜。

关键是第一次我必须先手拿（100%6=4）本（这不算在第一回合里面）。

<p  id="掰巧克力问题或者参加辩论赛"></p>

## 16、掰巧克力问题或者参加辩论赛

1、掰巧克力问题 N\*M 块巧克力，每次掰一块的一行或一列，掰成 1\*1 的巧克力需要多少次？

2、1000 个人参加辩论赛，1V1，输了就退出，需要安排多少场比赛？

参考回答

每次拿起一块巧克力，掰一下（无论横着还是竖着）都会变成两块，因为所有的巧克力共有 N\*M 块，所以要掰 N\*M-1 次，-1 是因为最开始的一块是不用算进去的。

每一场辩论赛参加两个人，消失一个人，所以可以看作是每一场辩论赛减少一个人，直到最后剩下 1 个人，所以是 1000-1=999 场。

## 参考资料

> https://www.zhihu.com/question/288093713/answer/482192781
>
> https://blog.csdn.net/qq_38316721/article/details/81351297
